/*!
 * jQuery plugin -> Production Line
 * Developer : Mohsen Esmaeli
 * HappySpider.Org
 */
(function(n){n.fn.pline=function(t){function s(t){var i=n(t),r=n("div.inner-grid",t);n(".save",i).click(function(){var t=n("<div />");t.addClass("render");t.append(n("<h1 />").text("Hannan Sanat Production Line Preview :"));t.append(n(".inner-grid").clone());t.append(n("ul.pline-list"));n("body").append(t);html2canvas(t,{onrendered:function(t){n("a.download",i)[0].href=t.toDataURL("image/png");n("a.download",i)[0].click();setTimeout(function(){n(".render").remove()},2e3)}})});n("input.length,input.width").change(function(){var i=n("input.length",t).val(),u=n("input.width",t).val();r.css({width:i*100,height:u*100})});n("input.length,input.width").change();n(".grid-nav",i).mousedown(function(){var r=n(this),t=n(".inner-grid",i),c=0,l=0,h=90,s,u;t.attr("data-transform")==undefined&&t.attr("data-transform",1);s=parseFloat(t.attr("data-transform"));t.css({top:"",left:""});r.hasClass("up")&&(c=h);r.hasClass("down")&&(c=-1*h);r.hasClass("left")&&(l=h);r.hasClass("right")&&(l=-1*h);r.hasClass("zoom-in")&&(s+=.1);r.hasClass("zoom-out")&&(s-=.1);r.hasClass("add-pillar")&&(u=n("<div />").addClass("pillar").text("X"),n(".inner-grid",i).append(u),u[0].addEventListener("mousedown",f),u[0].addEventListener("mouseup",e),u[0].addEventListener("mouseout",o),u.contextmenu(function(t){t.preventDefault(t);n(this).remove()}));t.attr("data-transform",s);t.css({top:parseInt(t.css("top").replace("px",""))+c,left:parseInt(t.css("left").replace("px",""))+l,transform:"scale("+s+")"})});n(document).on("click","div.sub-products li",function(){var t=n("img",this).clone();n(".inner-grid",i).append(t);t[0].addEventListener("mousedown",f);t[0].addEventListener("mouseup",e);t[0].addEventListener("mouseout",o);t.attr("data-key",u);n("ul.pline-list").append(n("<li />").text(n(this).text()).attr("data-key",u));t.contextmenu(function(t){t.preventDefault(t);var i=n(this).attr("data-key");n(this).remove();n("ul.pline-list li[data-key="+i+"]").remove()});u++})}var h=n.extend({},{},t),c=n(".inner-grid"),i=null,f=function(n){n.preventDefault(n);i=n;n.target.addEventListener("mousemove",r)},e=function(t){t.target.removeEventListener("mousemove",r);var i=n(t.target),u=parseInt(i.css("left").toString().replace("px","")),f=parseInt(i.css("top").toString().replace("px",""));u=Math.ceil(u/50)*50;f=Math.round(f/50)*50;i.css("left",u);i.css("top",f)},r=function(t){var r=n(t.target),u=t.pageX-i.pageX,f=t.pageY-i.pageY,e=parseInt(r.css("left").toString().replace("px","")),o=parseInt(r.css("top").toString().replace("px","")),s=e+u,h=o+f;r.css("left",s);r.css("top",h);i=t},o=function(n){n.target.removeEventListener("mousemove",r)},u=0;return this.each(function(){s(this)}),this};n(function(){n("#pline").pline()})})(jQuery);String.prototype.replaceAll=function(n,t){var i=this;return i.replace(new RegExp(n,"g"),t)};
//# sourceMappingURL=jquery.pline.min.js.map
