function getColor(n,t,i,r,u){var r=r,f=n,e=t,o=i,s=(0+f)/r,h=(0+e)/r,c=(0+o)/r;return"#"+toHex(0+u*s)+toHex(0+u*h)+toHex(0+u*c)}function toHex(n){var t=(~~n).toString(16);return t.length<2&&(t="0"+t),t}var map,markers=[],isFirst=!1;$(document).on("click","#places .tabs li",function(){var u=[],n=$(this),r;icon=n.attr("data-icon");title=n.attr("data-title");var u=n.attr("data-image").split("|"),f=n.attr("data-title").split("|"),e=n.attr("data-descrp").split("|"),o=n.attr("data-isMain"),t=0;if(isFirst)for(i=0;i<markers.length;i++)markers[i].isMain=="false"&&markers[i].setMap(null);_.map(n.attr("data-latlng").split("|"),function(n){var s,i;n&&(s=new google.maps.LatLng(parseFloat(n.split(",")[0]),parseFloat(n.split(",")[1])),t++,i=new google.maps.Marker({position:s,title:f[t],descrp:e[t],image:u[t],icon:icon,isMain:o,map:map}),markers.push(i),google.maps.event.addListener(i,"click",function(n,t){return function(){r.setContent('<div class="content cscroll" id="content-'+t+'" style="max-height:300px;overflow:hidden; font-family: Tahoma; font-size:12px;"><div style="text-align:center" class="alert alert-success">'+n.title+'<\/div><img style="max-height:250px; max-width:100%;" src="'+n.image+'" /><p style="text-align:justify; direction:rtl;word-break:break-word;">'+n.descrp+"<\/p><\/div>");r.open(map,n)}}(i,t)))});r=new google.maps.InfoWindow({maxWidth:300,infoBoxClearance:new google.maps.Size(1,1),disableAutoPan:!1})});setTimeout(function(){isFirst=!0;var n=$("#places ul").children("li"),t=[];$.each(n,function(n,i){t.push({index:n,cat:$(i).attr("data-cat-name"),isSet:!1,mainColor:$(i).attr("data-cat-bgcolor"),color:$(i).attr("data-cat-color"),_generateColor:""})});$.each(n,function(n,i){var f=$(i).attr("data-cat-name"),r=t.filter(n=>n.cat==f),e=r[0].mainColor,u=e.split(","),o=u[0],s=u[1],h=u[2];r[0].isSet||$.each(r,function(n,t){t.isSet=!0;t.cat=t.cat;t._generateColor=getColor(o,s,h,r.length,n)})});$.each(n,function(n,i){var r=t.find(t=>t.index==n);$(i).css("background",r._generateColor);$(i).css("color",r.color)})},1e3);$(".menu .fa").click(function(){var n=$(this);n.attr("data-action")=="close"?(n.parent(".menu").addClass("close"),$(".tabs").addClass("close")):(n.parent(".menu").removeClass("close"),$(".tabs").removeClass("close"))});