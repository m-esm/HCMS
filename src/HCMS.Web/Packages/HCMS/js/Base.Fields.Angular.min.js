var app=angular.module("fieldsApp",[]).filter("orderObjectBy",function(){return function(n,t,i){var r=[];return angular.forEach(n,function(n){r.push(n)}),r.sort(function(n,i){return n[t]>i[t]?1:-1}),i&&r.reverse(),r}}).controller("fieldsController",["$scope","$http",function(n,t){var r=[{ID:0,Label:"نام مدل",Source:"0",InputType:0,CssClass:"",InputDivCssClass:"col-sm-12",Required:!0,Name:"name",GroupWith:"",ShowInGrid:!0,Localize:!1,OrderID:0,Multiple:!1,$$hashKey:"object:3"},{ID:0,Label:"قیمت پیش فرض",Source:"0",InputType:0,CssClass:"",InputDivCssClass:"col-sm-12",Required:!0,Name:"DefaultPrice",GroupWith:"",ShowInGrid:!0,Localize:!1,OrderID:0,Multiple:!1,$$hashKey:"object:80"},{ID:0,Label:"نام ویژگی",Source:"0",InputType:0,CssClass:"",InputDivCssClass:"col-xs-6",Required:!1,Name:"field",GroupWith:"other",ShowInGrid:!1,Localize:!1,OrderID:400,Multiple:!0,$$hashKey:"object:7"},{ID:0,Label:"مقدار",Source:"0",InputType:2,CssClass:"",InputDivCssClass:"col-xs-6",Required:!1,Name:"value",GroupWith:"other",ShowInGrid:!1,Localize:!1,OrderID:401,Multiple:!0,$$hashKey:"object:8"},{ID:0,Label:"عکس",Source:"0",InputType:21,CssClass:"",InputDivCssClass:"col-sm-12",Required:!0,Name:"image",GroupWith:"img",ShowInGrid:!1,Localize:!1,OrderID:1,Multiple:!0,$$hashKey:"object:6"},{ID:0,Label:"توضیحات",Source:"0",InputType:2,CssClass:"",InputDivCssClass:"col-sm-12",Required:!0,Name:"description",GroupWith:"",ShowInGrid:!1,Localize:!1,OrderID:0,Multiple:!1,$$hashKey:"object:5"}],u={ID:0,Label:"",InputType:"",ShowInGrid:!1,Required:!0,Localize:!1,Name:"",InputDivCssClass:"col-sm-12",CssClass:"",GroupWith:"",Source:0,OrderID:0,Multiple:!1},i=document.getElementById("fieldsApp").getAttribute("data-formId");n.sources=[];n.fields=[];n.inputTypes=[];t.get("/Manage/Fields/GetForms").success(function(t){var i=JSON.stringify(t),r=JSON.parse(i);n.sources=r});t.get("/datacontroller/getenumjson?EnumName=inputTypes").success(function(t){var i=JSON.stringify(t),r=JSON.parse(i);n.inputTypes=r});t.get("/Manage/Fields/GetFields?formId="+i).success(function(t){var i=JSON.stringify(t),r=JSON.parse(i);n.fields=r});n.removeItem=function(t){n.fields.splice(n.fields.indexOf(t),1);n.onPreview()};n.moveUp=function(t){t.OrderID=t.OrderID+1;n.onPreview()};n.moveDown=function(t){t.OrderID-1>=0&&(t.OrderID=t.OrderID-1,n.onPreview())};n.addItem=function(){var t=jQuery.extend(!0,{},u);n.fields.push(t);n.onPreview()};n.onDefaults=function(){$(r).each(function(t,i){n.fields.push(i)});n.onPreview()};n.onSubmit=function(){console.log(n.fields);t.post("/Manage/Fields/Save",{formId:i,fields:JSON.stringify(n.fields)}).success(function(){swal("با موفیت ذخیره شد ")})};n.onChange=function(){n.onPreview()};n.onPreview=function(){t.post("/Manage/Fields/GetFormPreview",{formId:i,fields:JSON.stringify(n.fields)}).success(function(n){document.getElementById("preview").innerHTML=n;InitBaseForms()})};setTimeout(function(){n.onPreview()},500)}]);
//# sourceMappingURL=Base.Fields.Angular.min.js.map
