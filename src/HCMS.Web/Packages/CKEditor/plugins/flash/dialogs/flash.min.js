(function(){function n(n,t,i){var o=u[this.id],f,e,r;if(o)for(f=this instanceof CKEDITOR.ui.dialog.checkbox,e=0;e<o.length;e++){r=o[e];switch(r.type){case 1:if(!n)continue;if(null!==n.getAttribute(r.name)){n=n.getAttribute(r.name);f?this.setValue("true"==n.toLowerCase()):this.setValue(n);return}f&&this.setValue(!!r["default"]);break;case 2:if(!n)continue;if(r.name in i){n=i[r.name];f?this.setValue("true"==n.toLowerCase()):this.setValue(n);return}f&&this.setValue(!!r["default"]);break;case 4:if(!t)continue;if(t.getAttribute(r.name)){n=t.getAttribute(r.name);f?this.setValue("true"==n.toLowerCase()):this.setValue(n);return}f&&this.setValue(!!r["default"])}}}function t(n,t,i){var o=u[this.id],r,f,e;if(o)for(var s=""===this.getValue(),h=this instanceof CKEDITOR.ui.dialog.checkbox,c=0;c<o.length;c++){r=o[c];switch(r.type){case 1:if(!n||"data"==r.name&&t&&!n.hasAttribute("data"))continue;f=this.getValue();s||h&&f===r["default"]?n.removeAttribute(r.name):n.setAttribute(r.name,f);break;case 2:if(!n)continue;f=this.getValue();s||h&&f===r["default"]?r.name in i&&i[r.name].remove():r.name in i?i[r.name].setAttribute("value",f):(e=CKEDITOR.dom.element.createFromHtml("<cke:param><\/cke:param>",n.getDocument()),e.setAttributes({name:r.name,value:f}),1>n.getChildCount()?e.appendTo(n):e.insertBefore(n.getFirst()));break;case 4:if(!t)continue;f=this.getValue();s||h&&f===r["default"]?t.removeAttribute(r.name):t.setAttribute(r.name,f)}}}for(var u={id:[{type:1,name:"id"}],classid:[{type:1,name:"classid"}],codebase:[{type:1,name:"codebase"}],pluginspage:[{type:4,name:"pluginspage"}],src:[{type:2,name:"movie"},{type:4,name:"src"},{type:1,name:"data"}],name:[{type:4,name:"name"}],align:[{type:1,name:"align"}],"class":[{type:1,name:"class"},{type:4,name:"class"}],width:[{type:1,name:"width"},{type:4,name:"width"}],height:[{type:1,name:"height"},{type:4,name:"height"}],hSpace:[{type:1,name:"hSpace"},{type:4,name:"hSpace"}],vSpace:[{type:1,name:"vSpace"},{type:4,name:"vSpace"}],style:[{type:1,name:"style"},{type:4,name:"style"}],type:[{type:4,name:"type"}]},r="play loop menu quality scale salign wmode bgcolor base flashvars allowScriptAccess allowFullScreen".split(" "),i=0;i<r.length;i++)u[r[i]]=[{type:4,name:r[i]},{type:2,name:r[i]}];for(r=["play","loop","menu"],i=0;i<r.length;i++)u[r[i]][0]["default"]=u[r[i]][1]["default"]=!0;CKEDITOR.dialog.add("flash",function(i){var u=!i.config.flashEmbedTagOnly,f=i.config.flashAddEmbedTag||i.config.flashEmbedTagOnly,r,e="<div>"+CKEDITOR.tools.htmlEncode(i.lang.common.preview)+'<br><div id="cke_FlashPreviewLoader'+CKEDITOR.tools.getNextNumber()+'" style="display:none"><div class="loading">&nbsp;<\/div><\/div><div id="cke_FlashPreviewBox'+CKEDITOR.tools.getNextNumber()+'" class="FlashPreviewBox"><\/div><\/div>';return{title:i.lang.flash.title,minWidth:420,minHeight:310,onShow:function(){var t;if(this.fakeImage=this.objectNode=this.embedNode=null,r=new CKEDITOR.dom.element("embed",i.document),t=this.getSelectedElement(),t&&t.data("cke-real-element-type")&&"flash"==t.data("cke-real-element-type")){this.fakeImage=t;var n=i.restoreRealElement(t),u=null,f=null,s={};if("cke:object"==n.getName()){u=n;n=u.getElementsByTag("embed","cke");0<n.count()&&(f=n.getItem(0));for(var n=u.getElementsByTag("param","cke"),e=0,h=n.count();e<h;e++){var o=n.getItem(e),c=o.getAttribute("name"),o=o.getAttribute("value");s[c]=o}}else"cke:embed"==n.getName()&&(f=n);this.objectNode=u;this.embedNode=f;this.setupContent(u,f,s,t)}},onOk:function(){var n=null,r=null,o=null;if(this.fakeImage?(n=this.objectNode,r=this.embedNode):(u&&(n=CKEDITOR.dom.element.createFromHtml("<cke:object><\/cke:object>",i.document),n.setAttributes({classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"})),f&&(r=CKEDITOR.dom.element.createFromHtml("<cke:embed><\/cke:embed>",i.document),r.setAttributes({type:"application/x-shockwave-flash",pluginspage:"http://www.macromedia.com/go/getflashplayer"}),n&&r.appendTo(n))),n)for(var o={},e=n.getElementsByTag("param","cke"),t=0,s=e.count();t<s;t++)o[e.getItem(t).getAttribute("name")]=e.getItem(t);e={};t={};this.commitContent(n,r,o,e,t);n=i.createFakeElement(n||r,"cke_flash","flash",!0);n.setAttributes(t);n.setStyles(e);this.fakeImage?(n.replace(this.fakeImage),i.getSelection().selectElement(n)):i.insertElement(n)},onHide:function(){this.preview&&this.preview.setHtml("")},contents:[{id:"info",label:i.lang.common.generalTab,accessKey:"I",elements:[{type:"vbox",padding:0,children:[{type:"hbox",widths:["280px","110px"],align:"right",children:[{id:"src",type:"text",label:i.lang.common.url,required:!0,validate:CKEDITOR.dialog.validate.notEmpty(i.lang.flash.validateSrc),setup:n,commit:t,onLoad:function(){var n=this.getDialog(),t=function(t){r.setAttribute("src",t);n.preview.setHtml('<embed height="100%" width="100%" src="'+CKEDITOR.tools.htmlEncode(r.getAttribute("src"))+'" type="application/x-shockwave-flash"><\/embed>')};n.preview=n.getContentElement("info","preview").getElement().getChild(3);this.on("change",function(n){n.data&&n.data.value&&t(n.data.value)});this.getInputElement().on("change",function(){t(this.getValue())},this)}},{type:"button",id:"browse",filebrowser:"info:src",hidden:!0,style:"display:inline-block;margin-top:14px;",label:i.lang.common.browseServer}]}]},{type:"hbox",widths:["25%","25%","25%","25%","25%"],children:[{type:"text",id:"width",requiredContent:"embed[width]",style:"width:95px",label:i.lang.common.width,validate:CKEDITOR.dialog.validate.htmlLength(i.lang.common.invalidHtmlLength.replace("%1",i.lang.common.width)),setup:n,commit:t},{type:"text",id:"height",requiredContent:"embed[height]",style:"width:95px",label:i.lang.common.height,validate:CKEDITOR.dialog.validate.htmlLength(i.lang.common.invalidHtmlLength.replace("%1",i.lang.common.height)),setup:n,commit:t},{type:"text",id:"hSpace",requiredContent:"embed[hspace]",style:"width:95px",label:i.lang.flash.hSpace,validate:CKEDITOR.dialog.validate.integer(i.lang.flash.validateHSpace),setup:n,commit:t},{type:"text",id:"vSpace",requiredContent:"embed[vspace]",style:"width:95px",label:i.lang.flash.vSpace,validate:CKEDITOR.dialog.validate.integer(i.lang.flash.validateVSpace),setup:n,commit:t}]},{type:"vbox",children:[{type:"html",id:"preview",style:"width:95%;",html:e}]}]},{id:"Upload",hidden:!0,filebrowser:"uploadButton",label:i.lang.common.upload,elements:[{type:"file",id:"upload",label:i.lang.common.upload,size:38},{type:"fileButton",id:"uploadButton",label:i.lang.common.uploadSubmit,filebrowser:"info:src","for":["Upload","upload"]}]},{id:"properties",label:i.lang.flash.propertiesTab,elements:[{type:"hbox",widths:["50%","50%"],children:[{id:"scale",type:"select",requiredContent:"embed[scale]",label:i.lang.flash.scale,"default":"",style:"width : 100%;",items:[[i.lang.common.notSet,""],[i.lang.flash.scaleAll,"showall"],[i.lang.flash.scaleNoBorder,"noborder"],[i.lang.flash.scaleFit,"exactfit"]],setup:n,commit:t},{id:"allowScriptAccess",type:"select",requiredContent:"embed[allowscriptaccess]",label:i.lang.flash.access,"default":"",style:"width : 100%;",items:[[i.lang.common.notSet,""],[i.lang.flash.accessAlways,"always"],[i.lang.flash.accessSameDomain,"samedomain"],[i.lang.flash.accessNever,"never"]],setup:n,commit:t}]},{type:"hbox",widths:["50%","50%"],children:[{id:"wmode",type:"select",requiredContent:"embed[wmode]",label:i.lang.flash.windowMode,"default":"",style:"width : 100%;",items:[[i.lang.common.notSet,""],[i.lang.flash.windowModeWindow,"window"],[i.lang.flash.windowModeOpaque,"opaque"],[i.lang.flash.windowModeTransparent,"transparent"]],setup:n,commit:t},{id:"quality",type:"select",requiredContent:"embed[quality]",label:i.lang.flash.quality,"default":"high",style:"width : 100%;",items:[[i.lang.common.notSet,""],[i.lang.flash.qualityBest,"best"],[i.lang.flash.qualityHigh,"high"],[i.lang.flash.qualityAutoHigh,"autohigh"],[i.lang.flash.qualityMedium,"medium"],[i.lang.flash.qualityAutoLow,"autolow"],[i.lang.flash.qualityLow,"low"]],setup:n,commit:t}]},{type:"hbox",widths:["50%","50%"],children:[{id:"align",type:"select",requiredContent:"object[align]",label:i.lang.common.align,"default":"",style:"width : 100%;",items:[[i.lang.common.notSet,""],[i.lang.common.alignLeft,"left"],[i.lang.flash.alignAbsBottom,"absBottom"],[i.lang.flash.alignAbsMiddle,"absMiddle"],[i.lang.flash.alignBaseline,"baseline"],[i.lang.common.alignBottom,"bottom"],[i.lang.common.alignMiddle,"middle"],[i.lang.common.alignRight,"right"],[i.lang.flash.alignTextTop,"textTop"],[i.lang.common.alignTop,"top"]],setup:n,commit:function(n,i,r,u,f){var e=this.getValue();t.apply(this,arguments);e&&(f.align=e)}},{type:"html",html:"<div><\/div>"}]},{type:"fieldset",label:CKEDITOR.tools.htmlEncode(i.lang.flash.flashvars),children:[{type:"vbox",padding:0,children:[{type:"checkbox",id:"menu",label:i.lang.flash.chkMenu,"default":!0,setup:n,commit:t},{type:"checkbox",id:"play",label:i.lang.flash.chkPlay,"default":!0,setup:n,commit:t},{type:"checkbox",id:"loop",label:i.lang.flash.chkLoop,"default":!0,setup:n,commit:t},{type:"checkbox",id:"allowFullScreen",label:i.lang.flash.chkFull,"default":!0,setup:n,commit:t}]}]}]},{id:"advanced",label:i.lang.common.advancedTab,elements:[{type:"hbox",children:[{type:"text",id:"id",requiredContent:"object[id]",label:i.lang.common.id,setup:n,commit:t}]},{type:"hbox",widths:["45%","55%"],children:[{type:"text",id:"bgcolor",requiredContent:"embed[bgcolor]",label:i.lang.flash.bgcolor,setup:n,commit:t},{type:"text",id:"class",requiredContent:"embed(cke-xyz)",label:i.lang.common.cssClass,setup:n,commit:t}]},{type:"text",id:"style",requiredContent:"embed{cke-xyz}",validate:CKEDITOR.dialog.validate.inlineStyle(i.lang.common.invalidInlineStyle),label:i.lang.common.cssStyle,setup:n,commit:t}]}]}})})();
//# sourceMappingURL=flash.min.js.map
